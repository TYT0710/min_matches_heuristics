#from lib.problem_classes.stream_utility import *
import os, sys

def read_test_case(file_name,Stream,Utility):
	f = open(file_name, 'r')
	lines = f.readlines()
	f.close()
	#print('filename:',f.name)
	H=[]
	C=[]
	HU=[]
	CU=[]
	for line in lines:
		data_type=line.split()[0]
		if data_type[0]=='H':
			if data_type[1]!='U':
				Tin=line.split()[1]
				Tout=line.split()[2]
				FCp=line.split()[3]
				HS=Stream(Tin,Tout,FCp)
				#print('hs', HS)
			else:
				Tin=line.split()[1]
				Tout=line.split()[2]
				cost=line.split()[3]
 				HS=Utility(Tin,Tout,cost)
				print('hu', HS)
				HU.append(HS)
		if data_type[0]=='C':
			if data_type[1]!='U':
				Tin=line.split()[1]
				Tout=line.split()[2]
				FCp=line.split()[3]
				CS=Stream(Tin,Tout,FCp)
				print('cs', CS)
			else:
				Tin=line.split()[1]
				Tout=line.split()[2]
				cost=line.split()[3]
 				CS=Utility(Tin,Tout,cost)
				print('cu', CS)
				CU.append(CS)
		if line.startswith('DTminX'):
			DTminX = line.split()[1]
			print('DTminX =', DTminX)

#read_test_case('test_cases/furman_sahinidis/14SP1.dat')

def read_all_test_cases(Stream,Utility):
	#file_name = 'test_cases/furman_sahinidis/4sp1.dat'
	#directory = os.path.join("test_cases/furman_sahinidis/", "path")
	path = "test_cases/furman_sahinidis/"
	#path = "test_cases/chen_grossman_miller/"
	files = os.listdir(path)
	for file_name in files:
		read_test_case(path+file_name,Stream,Utility)
	
	#def read_test_case(directory):
	#for files in path:
	#	print(files)

#for file in files:
#if file.endswith(".dat"):
#print('otinanai')


read_all_test_cases()



#read_test_case(directory)



#path = "test_cases/furman_sahinidis/"
#dirs = os.listdir( path )
#for file in dirs:
	#print file



# class Stream:

# 	def __init__(self, Tin, Tout, FCp):
# 		self.Tin = Tin
# 		self.Tout = Tout
# 		self.Fcp = Fcp
	

# 	def hot_stream(self, H = []):
#         for i in xrange(0,2):
#         	self.H[i].append(Stream(H_Tin[i], H_Tout[i], H_FCp[i]))
#        	    print(H)
    #return self.H[i]



	

#file_name = open('/Users/georgiakouy/heat_exchanger_networks/experiments/test_cases/furman_sahinidis/4sp1.dat', 'r');     # Mac and Linux
#mytxt = file_name.read()
#print mytxt
#file_name.close()
